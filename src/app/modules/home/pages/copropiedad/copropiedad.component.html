<div class="div-container">
  <mat-card>
    <mat-card-header>
      <mat-card-title>
        <h1>Copropiedad</h1>
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="formCopropiedad" (submit)="onSubmit()">
        <div>
          <mat-form-field>
            <mat-label>Nit:</mat-label>
            <input matInput formControlName="nit" />
            @if (formCopropiedad.get('nit')?.invalid &&
            formCopropiedad.get('nit')?.touched ) {
            <small>Nit requerido</small>
            }
          </mat-form-field>
    
          <mat-form-field>
            <mat-label>Nombre:</mat-label>
            <input matInput formControlName="nombre" />
            @if (formCopropiedad.get('nombre')?.invalid &&
            formCopropiedad.get('nit')?.touched) {
            <small>Nombre requerido</small>
            }
          </mat-form-field>
    
          <mat-form-field>
            <mat-label>Direccion:</mat-label>
            <input matInput formControlName="direccion" />
            @if (formCopropiedad.get('direccion')?.invalid &&
            formCopropiedad.get('direccion')?.touched) {
            <small>Direccion requerida</small>
            }
          </mat-form-field>
    
          <mat-form-field>
            <mat-label>Municipio:</mat-label>
            <mat-select formControlName="municipio">
              @for (m of municipios; track m.id_municipio) {
              <mat-option [value]="m.id_municipio">{{
                m.nombre_municipio
              }}</mat-option>
              }
            </mat-select>
            @if (formCopropiedad.get('municipio')?.invalid &&
            formCopropiedad.get('municipio')?.touched) {
            <small>Municipio requerido</small>
            }
          </mat-form-field>
    
          <mat-form-field>
            <mat-label>Entidad Bancaria:</mat-label>
            <mat-select formControlName="banco">
              @for (b of bancos; track b.id_banco) {
              <mat-option [value]="b.id_banco">{{ b.nombre_banco }}</mat-option>
              }
            </mat-select>
            @if (formCopropiedad.get('banco')?.invalid &&
            formCopropiedad.get('banco')?.touched) {
            <small>Entidad Bancaria requerido</small>
            }
          </mat-form-field>
    
          <mat-form-field>
            <mat-label>Tipo de Cuenta:</mat-label>
            <mat-select formControlName="tipoCuenta">
              @for (tc of tipoCuentas; track tc.id_tipo_cuenta) {
              <mat-option [value]="tc.id_tipo_cuenta">{{
                tc.nombre_tipo_cuenta
              }}</mat-option>
              }
            </mat-select>
            @if (formCopropiedad.get('tipoCuenta')?.invalid &&
            formCopropiedad.get('tipocuenta')?.touched) {
            <small>Tipo de Cuenta requerido</small>
            }
          </mat-form-field>
    
          <mat-form-field>
            <mat-label>Numero de cuenta:</mat-label>
            <input matInput formControlName="numCuenta" type="number" />
            @if (formCopropiedad.get('numCuenta')?.invalid &&
            formCopropiedad.get('numCuenta')?.touched) {
            <small>Numero de Cuenta requerido</small>
            }
          </mat-form-field>
    
          <mat-form-field>
            <mat-label>Administrador:</mat-label>
            <mat-select formControlName="admin">
              @for (adm of administradores; track adm.id_admin_copropiedad) {
              <mat-option [value]="adm.id_admin_copropiedad">{{
                adm.nombre_admin_copropiedad
              }}</mat-option>
              }
            </mat-select>
            @if (formCopropiedad.get('admin')?.invalid &&
            formCopropiedad.get('admin')?.touched) {
            <small>Administrador requerido</small>
            }
          </mat-form-field>
    
          <mat-form-field>
            <mat-label>Fecha Personeria (d/m/y):</mat-label>
            <input
              matInput
              [matDatepicker]="picker"
              formControlName="fechaPersoneria"
            />
            <!--  <mat-hint>MM/DD/YYYY</mat-hint> -->
            <mat-datepicker-toggle
              matIconSuffix
              [for]="picker"
            ></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
            @if (formCopropiedad.get('fechaPersoneria')?.invalid &&
            formCopropiedad.get('fechaPersoneria')?.touched) {
            <small>Fecha Personeria requerido</small>
            }
          </mat-form-field>
        </div>
    
        <div>
          <button
            mat-flat-button
            color="primary"
            [disabled]="formCopropiedad.invalid"
            type="submit"
          >
            Guardar
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>


  
</div>
