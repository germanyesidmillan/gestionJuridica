<div class="div-container">
    <h1>Cartera</h1>
    <form [formGroup]="formCartera" (submit)="onSubmit()">
        
        <section>

            <mat-form-field >
                <mat-label>Propietario:</mat-label>
                <mat-select formControlName="demado">
                    @for (d of demandados; track d.id_demandado) {
                      <mat-option [value]="d.id_demandado">{{d.nombre_demandado}}</mat-option>
                    }
                  </mat-select>
                  @if (formCartera.get('demado')?.invalid && formCartera.get('demado')?.touched) {
                    <small>Nit requerido</small>
                }
            </mat-form-field>

              <mat-form-field >
                <mat-label>Propietario:</mat-label>
                <mat-select formControlName="demado">
                    @for (d of demandados; track d.id_demandado) {
                      <mat-option [value]="d.id_demandado">{{d.nombre_demandado}}</mat-option>
                    }
                  </mat-select>
                  @if (formCartera.get('demado')?.invalid && formCartera.get('demado')?.touched) {
                    <small>Nit requerido</small>
                }
              </mat-form-field>
              
              <mat-form-field>
                <mat-label>Nit:</mat-label>
                <input matInput formControlName="nit">
                @if (formCartera.get('nit')?.invalid && formCartera.get('nit')?.touched) {
                    <small>Nit requerido</small>
                }
              </mat-form-field>
            
              <mat-form-field >
                <mat-label>Nombre:</mat-label>
                <input matInput formControlName="nombre">  
                @if (formCartera.get('nombre')?.invalid && formCartera.get('nombre')?.touched) {
                    <small>Nombre requerido</small>
                }
              </mat-form-field>
        
              
              <mat-form-field >
                <mat-label>Direccion:</mat-label>
                <input matInput formControlName="dir">  
                @if (formCartera.get('dir')?.invalid && formCartera.get('dir')?.touched) {
                    <small>direccion requerida</small>
                }
              </mat-form-field>
              
              <mat-form-field >
                <mat-label>Municipio:</mat-label>
                <mat-select formControlName="municipio">
                    @for (m of municipios; track m.id_municipio) {
                      <mat-option [value]="m.id_municipio">{{m.nombre_municipio}}</mat-option>
                    }
                  </mat-select>
                  @if (formCartera.get('municipio')?.invalid && formCartera.get('municipio')?.touched) {
                    <small>Nit requerido</small>
                }
              </mat-form-field>
              
              <mat-form-field >
                <mat-label>Entidad Bancaria:</mat-label>
                <mat-select formControlName="banco">
                    @for (b of bancos; track b.id_banco) {
                      <mat-option [value]="b.id_banco">{{b.nombre_banco}}</mat-option>
                    }
                  </mat-select>
                  @if (formCartera.get('banco')?.invalid && formCartera.get('banco')?.touched) {
                    <small>banco requerido</small>
                }
              </mat-form-field>
              
              <mat-form-field >
                <mat-label>Tipo cuenta:</mat-label>
                <mat-select formControlName="tipoCuenta">
                    @for (tc of tipoCuentas; track tc.id_tipo_cuenta) {
                      <mat-option [value]="tc.id_tipo_cuenta">{{tc.nombre_tipo_cuenta}}</mat-option>
                    }
                  </mat-select>
                  @if (formCartera.get('tipoCuenta')?.invalid && formCartera.get('tipocuenta')?.touched) {
                    <small>tipoCuenta requerido</small>
                }
              </mat-form-field>
        
              <mat-form-field >
                <mat-label>Número de cuenta:</mat-label>
                <input matInput formControlName="numCuenta" type="number">  
                @if (formCartera.get('numCuenta')?.invalid && formCartera.get('numCuenta')?.touched) {
                    <small>numCuenta requerido</small>
                }
              </mat-form-field>
              
              <mat-form-field >
                <mat-label>Administrador:</mat-label>
                <mat-select formControlName="admin">
                    @for (adm of administradores; track adm.id_admin_copropiedad) {
                      <mat-option [value]="adm.id_admin_copropiedad">{{adm.nombre_admin_copropiedad}}</mat-option>
                    }
                  </mat-select>
                  @if (formCartera.get('admin')?.invalid && formCartera.get('admin')?.touched) {
                    <small>admin requerido</small>
                }
              </mat-form-field>
    
    
              <mat-form-field>
                <mat-label>Fecha personería (dd/mm/yyyy):</mat-label>
                <input matInput [matDatepicker]="picker" formControlName="fechaPersoneria">
               <!--  <mat-hint>MM/DD/YYYY</mat-hint> -->
                <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
                @if (formCartera.get('fechaPersoneria')?.invalid && formCartera.get('fechaPersoneria')?.touched) {
                    <small>fechaPersoneria requerido</small>
                }
              </mat-form-field>
        </section>


        <button mat-flat-button color="primary" [disabled]="formCartera.invalid" >Guardar</button>  
    
    </form>

</div>
